//
// File: fft_test_fun.cpp
//
// MATLAB Coder version            : 5.4
// C/C++ source code generated on  : 29-Nov-2023 22:00:14
//

// Include Files
#include "fft_test_fun.h"
#include "FFTImplementationCallback.h"
#include "fft_test_fun_data.h"
#include <cmath>

// Function Declarations
static float rt_hypotf_snf(float u0, float u1);

// Function Definitions
//
// Arguments    : float u0
//                float u1
// Return Type  : float
//
static float rt_hypotf_snf(float u0, float u1)
{
  float a;
  float y;
  a = std::abs(u0);
  y = std::abs(u1);
  if (a < y) {
    a /= y;
    y *= std::sqrt(a * a + 1.0F);
  } else if (a > y) {
    y /= a;
    y = a * std::sqrt(y * y + 1.0F);
  } else if (!std::isnan(y)) {
    y = a * 1.41421354F;
  }
  return y;
}

//
// Arguments    : const float x[1000]
//                float y[1000]
// Return Type  : void
//
void fft_test_fun(const float x[1000], float y[1000])
{
  static const float sintabinv[1025]{
      0.0F,          0.00306795677F, 0.00613588467F, 0.00920375437F,
      0.0122715384F, 0.0153392069F,  0.0184067301F,  0.021474082F,
      0.024541229F,  0.027608145F,   0.030674804F,   0.0337411761F,
      0.0368072242F, 0.0398729295F,  0.0429382585F,  0.0460031815F,
      0.0490676761F, 0.0521317087F,  0.0551952459F,  0.0582582653F,
      0.0613207407F, 0.0643826351F,  0.0674439222F,  0.070504576F,
      0.0735645667F, 0.0766238645F,  0.0796824396F,  0.0827402696F,
      0.0857973173F, 0.0888535529F,  0.0919089541F,  0.0949635F,
      0.0980171412F, 0.101069868F,   0.10412164F,    0.10717243F,
      0.110222206F,  0.113270953F,   0.116318636F,   0.119365215F,
      0.122410677F,  0.125454977F,   0.128498122F,   0.13154003F,
      0.134580716F,  0.137620121F,   0.140658244F,   0.143695042F,
      0.146730468F,  0.149764538F,   0.152797192F,   0.155828416F,
      0.15885815F,   0.161886394F,   0.164913133F,   0.167938292F,
      0.170961902F,  0.173983872F,   0.177004218F,   0.18002291F,
      0.183039889F,  0.186055154F,   0.18906866F,    0.192080408F,
      0.195090324F,  0.198098406F,   0.201104641F,   0.204108968F,
      0.207111388F,  0.210111842F,   0.213110328F,   0.216106802F,
      0.219101235F,  0.222093627F,   0.225083917F,   0.228072092F,
      0.231058121F,  0.234041959F,   0.237023607F,   0.24000302F,
      0.242980197F,  0.24595505F,    0.248927608F,   0.251897812F,
      0.254865676F,  0.257831097F,   0.260794133F,   0.263754696F,
      0.266712785F,  0.269668311F,   0.272621363F,   0.275571823F,
      0.27851969F,   0.281464934F,   0.284407556F,   0.287347466F,
      0.290284663F,  0.293219179F,   0.296150893F,   0.299079835F,
      0.302005947F,  0.304929256F,   0.307849675F,   0.310767144F,
      0.313681751F,  0.316593409F,   0.319502026F,   0.322407693F,
      0.32531032F,   0.328209847F,   0.331106305F,   0.333999664F,
      0.336889863F,  0.339776874F,   0.342660725F,   0.345541328F,
      0.348418683F,  0.351292759F,   0.354163527F,   0.357031F,
      0.359895051F,  0.362755746F,   0.365613F,      0.368466824F,
      0.371317208F,  0.374164075F,   0.377007425F,   0.379847199F,
      0.382683456F,  0.385516077F,   0.388345033F,   0.391170382F,
      0.393992066F,  0.39681F,       0.399624199F,   0.402434677F,
      0.40524134F,   0.408044159F,   0.410843194F,   0.413638324F,
      0.416429579F,  0.419216901F,   0.422000289F,   0.424779713F,
      0.427555084F,  0.430326492F,   0.433093846F,   0.435857117F,
      0.438616246F,  0.441371292F,   0.444122165F,   0.446868837F,
      0.449611336F,  0.452349603F,   0.455083579F,   0.457813323F,
      0.460538715F,  0.463259816F,   0.465976506F,   0.468688846F,
      0.471396744F,  0.474100202F,   0.47679925F,    0.479493737F,
      0.482183754F,  0.484869242F,   0.487550169F,   0.490226507F,
      0.492898226F,  0.495565295F,   0.498227656F,   0.500885367F,
      0.50353837F,   0.506186664F,   0.50883019F,    0.511468887F,
      0.514102757F,  0.516731799F,   0.519356F,      0.521975279F,
      0.524589717F,  0.527199149F,   0.529803634F,   0.532403171F,
      0.534997642F,  0.537587047F,   0.540171504F,   0.542750776F,
      0.545325041F,  0.547894061F,   0.550458F,      0.553016722F,
      0.555570245F,  0.558118522F,   0.560661614F,   0.563199341F,
      0.565731823F,  0.568259F,      0.570780754F,   0.573297143F,
      0.575808227F,  0.578313828F,   0.580814F,      0.583308697F,
      0.585797906F,  0.588281572F,   0.590759695F,   0.593232274F,
      0.59569931F,   0.598160744F,   0.600616515F,   0.603066623F,
      0.605511F,     0.607949793F,   0.610382795F,   0.612810075F,
      0.615231633F,  0.61764735F,    0.620057225F,   0.622461259F,
      0.624859512F,  0.627251804F,   0.629638255F,   0.632018745F,
      0.634393334F,  0.636761844F,   0.639124453F,   0.641481042F,
      0.643831551F,  0.64617604F,    0.64851445F,    0.65084672F,
      0.653172851F,  0.655492842F,   0.657806695F,   0.660114348F,
      0.662415802F,  0.664711F,      0.666999936F,   0.669282556F,
      0.671559F,     0.673829F,      0.676092744F,   0.678350091F,
      0.680601F,     0.682845592F,   0.685083628F,   0.687315345F,
      0.689540565F,  0.691759288F,   0.693971455F,   0.696177125F,
      0.698376298F,  0.700568795F,   0.702754736F,   0.704934061F,
      0.707106769F,  0.709272802F,   0.711432219F,   0.7135849F,
      0.715730786F,  0.71787F,       0.720002472F,   0.722128153F,
      0.724247098F,  0.726359129F,   0.728464365F,   0.730562747F,
      0.732654274F,  0.734738886F,   0.736816525F,   0.73888731F,
      0.740951121F,  0.743007958F,   0.745057762F,   0.747100592F,
      0.749136388F,  0.751165092F,   0.753186822F,   0.755201399F,
      0.757208824F,  0.759209156F,   0.761202335F,   0.763188422F,
      0.765167236F,  0.767138898F,   0.769103348F,   0.771060526F,
      0.773010433F,  0.774953067F,   0.77688843F,    0.778816521F,
      0.780737221F,  0.78265059F,    0.784556627F,   0.786455214F,
      0.78834641F,   0.790230215F,   0.792106569F,   0.793975472F,
      0.795836926F,  0.797690809F,   0.799537241F,   0.801376164F,
      0.803207517F,  0.8050313F,     0.806847572F,   0.808656156F,
      0.81045717F,   0.812250555F,   0.81403631F,    0.815814376F,
      0.817584813F,  0.819347501F,   0.8211025F,     0.822849751F,
      0.824589252F,  0.826321065F,   0.828045F,      0.829761207F,
      0.831469595F,  0.833170176F,   0.834862828F,   0.836547732F,
      0.838224709F,  0.839893758F,   0.841555F,      0.843208253F,
      0.84485358F,   0.84649092F,    0.848120332F,   0.849741757F,
      0.851355195F,  0.852960587F,   0.854558F,      0.856147349F,
      0.857728601F,  0.859301805F,   0.860866904F,   0.862423956F,
      0.863972843F,  0.865513623F,   0.867046237F,   0.868570685F,
      0.870086968F,  0.871595085F,   0.873095F,      0.874586642F,
      0.876070082F,  0.877545297F,   0.879012227F,   0.880470872F,
      0.881921232F,  0.883363307F,   0.884797096F,   0.886222541F,
      0.887639642F,  0.889048338F,   0.890448749F,   0.891840696F,
      0.893224299F,  0.894599497F,   0.895966232F,   0.897324562F,
      0.898674488F,  0.900015891F,   0.901348829F,   0.902673304F,
      0.903989315F,  0.905296743F,   0.906595707F,   0.907886088F,
      0.909167945F,  0.910441279F,   0.91170603F,    0.912962198F,
      0.914209723F,  0.915448725F,   0.916679084F,   0.917900741F,
      0.919113874F,  0.920318246F,   0.921514034F,   0.92270112F,
      0.923879504F,  0.925049245F,   0.926210225F,   0.927362502F,
      0.928506076F,  0.929640889F,   0.93076694F,    0.931884289F,
      0.932992816F,  0.934092522F,   0.935183525F,   0.936265647F,
      0.937339F,     0.938403547F,   0.939459205F,   0.940506101F,
      0.941544056F,  0.94257319F,    0.943593442F,   0.944604814F,
      0.945607305F,  0.946600914F,   0.947585583F,   0.94856137F,
      0.949528158F,  0.950486064F,   0.951435F,      0.952375F,
      0.953306F,     0.954228103F,   0.955141187F,   0.95604527F,
      0.956940353F,  0.957826376F,   0.958703458F,   0.959571481F,
      0.960430503F,  0.961280465F,   0.962121427F,   0.962953269F,
      0.963776052F,  0.964589775F,   0.965394437F,   0.96619F,
      0.966976464F,  0.967753828F,   0.968522072F,   0.969281256F,
      0.970031261F,  0.970772147F,   0.971503913F,   0.972226501F,
      0.972939968F,  0.973644257F,   0.974339366F,   0.975025356F,
      0.975702107F,  0.976369739F,   0.977028131F,   0.977677345F,
      0.97831738F,   0.978948176F,   0.979569793F,   0.980182111F,
      0.980785251F,  0.981379211F,   0.981963873F,   0.982539296F,
      0.983105481F,  0.983662426F,   0.984210074F,   0.984748483F,
      0.985277653F,  0.985797524F,   0.986308098F,   0.986809373F,
      0.987301409F,  0.987784147F,   0.988257587F,   0.988721669F,
      0.989176512F,  0.989622F,      0.990058184F,   0.990485072F,
      0.990902662F,  0.991310835F,   0.991709769F,   0.992099285F,
      0.992479563F,  0.992850423F,   0.993211925F,   0.993564129F,
      0.993907F,     0.994240463F,   0.994564593F,   0.994879305F,
      0.99518472F,   0.995480776F,   0.995767415F,   0.996044695F,
      0.996312618F,  0.996571124F,   0.996820271F,   0.997060061F,
      0.997290432F,  0.997511446F,   0.997723043F,   0.997925282F,
      0.998118103F,  0.998301566F,   0.998475552F,   0.998640239F,
      0.99879545F,   0.998941302F,   0.999077737F,   0.999204755F,
      0.999322414F,  0.999430597F,   0.999529421F,   0.999618828F,
      0.999698818F,  0.99976939F,    0.999830604F,   0.99988234F,
      0.999924719F,  0.999957621F,   0.999981165F,   0.999995291F,
      1.0F,          0.999995291F,   0.999981165F,   0.999957621F,
      0.999924719F,  0.99988234F,    0.999830604F,   0.99976939F,
      0.999698818F,  0.999618828F,   0.999529421F,   0.999430597F,
      0.999322414F,  0.999204755F,   0.999077737F,   0.998941302F,
      0.99879545F,   0.998640239F,   0.998475552F,   0.998301566F,
      0.998118103F,  0.997925282F,   0.997723043F,   0.997511446F,
      0.997290432F,  0.997060061F,   0.996820271F,   0.996571124F,
      0.996312618F,  0.996044695F,   0.995767415F,   0.995480776F,
      0.99518472F,   0.994879305F,   0.994564593F,   0.994240463F,
      0.993907F,     0.993564129F,   0.993211925F,   0.992850423F,
      0.992479563F,  0.992099285F,   0.991709769F,   0.991310835F,
      0.990902662F,  0.990485072F,   0.990058184F,   0.989622F,
      0.989176512F,  0.988721669F,   0.988257587F,   0.987784147F,
      0.987301409F,  0.986809373F,   0.986308098F,   0.985797524F,
      0.985277653F,  0.984748483F,   0.984210074F,   0.983662426F,
      0.983105481F,  0.982539296F,   0.981963873F,   0.981379211F,
      0.980785251F,  0.980182111F,   0.979569793F,   0.978948176F,
      0.97831738F,   0.977677345F,   0.977028131F,   0.976369739F,
      0.975702107F,  0.975025356F,   0.974339366F,   0.973644257F,
      0.972939968F,  0.972226501F,   0.971503913F,   0.970772147F,
      0.970031261F,  0.969281256F,   0.968522072F,   0.967753828F,
      0.966976464F,  0.96619F,       0.965394437F,   0.964589775F,
      0.963776052F,  0.962953269F,   0.962121427F,   0.961280465F,
      0.960430503F,  0.959571481F,   0.958703458F,   0.957826376F,
      0.956940353F,  0.95604527F,    0.955141187F,   0.954228103F,
      0.953306F,     0.952375F,      0.951435F,      0.950486064F,
      0.949528158F,  0.94856137F,    0.947585583F,   0.946600914F,
      0.945607305F,  0.944604814F,   0.943593442F,   0.94257319F,
      0.941544056F,  0.940506101F,   0.939459205F,   0.938403547F,
      0.937339F,     0.936265647F,   0.935183525F,   0.934092522F,
      0.932992816F,  0.931884289F,   0.93076694F,    0.929640889F,
      0.928506076F,  0.927362502F,   0.926210225F,   0.925049245F,
      0.923879504F,  0.92270112F,    0.921514034F,   0.920318246F,
      0.919113874F,  0.917900741F,   0.916679084F,   0.915448725F,
      0.914209723F,  0.912962198F,   0.91170603F,    0.910441279F,
      0.909167945F,  0.907886088F,   0.906595707F,   0.905296743F,
      0.903989315F,  0.902673304F,   0.901348829F,   0.900015891F,
      0.898674488F,  0.897324562F,   0.895966232F,   0.894599497F,
      0.893224299F,  0.891840696F,   0.890448749F,   0.889048338F,
      0.887639642F,  0.886222541F,   0.884797096F,   0.883363307F,
      0.881921232F,  0.880470872F,   0.879012227F,   0.877545297F,
      0.876070082F,  0.874586642F,   0.873095F,      0.871595085F,
      0.870086968F,  0.868570685F,   0.867046237F,   0.865513623F,
      0.863972843F,  0.862423956F,   0.860866904F,   0.859301805F,
      0.857728601F,  0.856147349F,   0.854558F,      0.852960587F,
      0.851355195F,  0.849741757F,   0.848120332F,   0.84649092F,
      0.84485358F,   0.843208253F,   0.841555F,      0.839893758F,
      0.838224709F,  0.836547732F,   0.834862828F,   0.833170176F,
      0.831469595F,  0.829761207F,   0.828045F,      0.826321065F,
      0.824589252F,  0.822849751F,   0.8211025F,     0.819347501F,
      0.817584813F,  0.815814376F,   0.81403631F,    0.812250555F,
      0.81045717F,   0.808656156F,   0.806847572F,   0.8050313F,
      0.803207517F,  0.801376164F,   0.799537241F,   0.797690809F,
      0.795836926F,  0.793975472F,   0.792106569F,   0.790230215F,
      0.78834641F,   0.786455214F,   0.784556627F,   0.78265059F,
      0.780737221F,  0.778816521F,   0.77688843F,    0.774953067F,
      0.773010433F,  0.771060526F,   0.769103348F,   0.767138898F,
      0.765167236F,  0.763188422F,   0.761202335F,   0.759209156F,
      0.757208824F,  0.755201399F,   0.753186822F,   0.751165092F,
      0.749136388F,  0.747100592F,   0.745057762F,   0.743007958F,
      0.740951121F,  0.73888731F,    0.736816525F,   0.734738886F,
      0.732654274F,  0.730562747F,   0.728464365F,   0.726359129F,
      0.724247098F,  0.722128153F,   0.720002472F,   0.71787F,
      0.715730786F,  0.7135849F,     0.711432219F,   0.709272802F,
      0.707106769F,  0.704934061F,   0.702754736F,   0.700568795F,
      0.698376298F,  0.696177125F,   0.693971455F,   0.691759288F,
      0.689540565F,  0.687315345F,   0.685083628F,   0.682845592F,
      0.680601F,     0.678350091F,   0.676092744F,   0.673829F,
      0.671559F,     0.669282556F,   0.666999936F,   0.664711F,
      0.662415802F,  0.660114348F,   0.657806695F,   0.655492842F,
      0.653172851F,  0.65084672F,    0.64851445F,    0.64617604F,
      0.643831551F,  0.641481042F,   0.639124453F,   0.636761844F,
      0.634393334F,  0.632018745F,   0.629638255F,   0.627251804F,
      0.624859512F,  0.622461259F,   0.620057225F,   0.61764735F,
      0.615231633F,  0.612810075F,   0.610382795F,   0.607949793F,
      0.605511F,     0.603066623F,   0.600616515F,   0.598160744F,
      0.59569931F,   0.593232274F,   0.590759695F,   0.588281572F,
      0.585797906F,  0.583308697F,   0.580814F,      0.578313828F,
      0.575808227F,  0.573297143F,   0.570780754F,   0.568259F,
      0.565731823F,  0.563199341F,   0.560661614F,   0.558118522F,
      0.555570245F,  0.553016722F,   0.550458F,      0.547894061F,
      0.545325041F,  0.542750776F,   0.540171504F,   0.537587047F,
      0.534997642F,  0.532403171F,   0.529803634F,   0.527199149F,
      0.524589717F,  0.521975279F,   0.519356F,      0.516731799F,
      0.514102757F,  0.511468887F,   0.50883019F,    0.506186664F,
      0.50353837F,   0.500885367F,   0.498227656F,   0.495565295F,
      0.492898226F,  0.490226507F,   0.487550169F,   0.484869242F,
      0.482183754F,  0.479493737F,   0.47679925F,    0.474100202F,
      0.471396744F,  0.468688846F,   0.465976506F,   0.463259816F,
      0.460538715F,  0.457813323F,   0.455083579F,   0.452349603F,
      0.449611336F,  0.446868837F,   0.444122165F,   0.441371292F,
      0.438616246F,  0.435857117F,   0.433093846F,   0.430326492F,
      0.427555084F,  0.424779713F,   0.422000289F,   0.419216901F,
      0.416429579F,  0.413638324F,   0.410843194F,   0.408044159F,
      0.40524134F,   0.402434677F,   0.399624199F,   0.39681F,
      0.393992066F,  0.391170382F,   0.388345033F,   0.385516077F,
      0.382683456F,  0.379847199F,   0.377007425F,   0.374164075F,
      0.371317208F,  0.368466824F,   0.365613F,      0.362755746F,
      0.359895051F,  0.357031F,      0.354163527F,   0.351292759F,
      0.348418683F,  0.345541328F,   0.342660725F,   0.339776874F,
      0.336889863F,  0.333999664F,   0.331106305F,   0.328209847F,
      0.32531032F,   0.322407693F,   0.319502026F,   0.316593409F,
      0.313681751F,  0.310767144F,   0.307849675F,   0.304929256F,
      0.302005947F,  0.299079835F,   0.296150893F,   0.293219179F,
      0.290284663F,  0.287347466F,   0.284407556F,   0.281464934F,
      0.27851969F,   0.275571823F,   0.272621363F,   0.269668311F,
      0.266712785F,  0.263754696F,   0.260794133F,   0.257831097F,
      0.254865676F,  0.251897812F,   0.248927608F,   0.24595505F,
      0.242980197F,  0.24000302F,    0.237023607F,   0.234041959F,
      0.231058121F,  0.228072092F,   0.225083917F,   0.222093627F,
      0.219101235F,  0.216106802F,   0.213110328F,   0.210111842F,
      0.207111388F,  0.204108968F,   0.201104641F,   0.198098406F,
      0.195090324F,  0.192080408F,   0.18906866F,    0.186055154F,
      0.183039889F,  0.18002291F,    0.177004218F,   0.173983872F,
      0.170961902F,  0.167938292F,   0.164913133F,   0.161886394F,
      0.15885815F,   0.155828416F,   0.152797192F,   0.149764538F,
      0.146730468F,  0.143695042F,   0.140658244F,   0.137620121F,
      0.134580716F,  0.13154003F,    0.128498122F,   0.125454977F,
      0.122410677F,  0.119365215F,   0.116318636F,   0.113270953F,
      0.110222206F,  0.10717243F,    0.10412164F,    0.101069868F,
      0.0980171412F, 0.0949635F,     0.0919089541F,  0.0888535529F,
      0.0857973173F, 0.0827402696F,  0.0796824396F,  0.0766238645F,
      0.0735645667F, 0.070504576F,   0.0674439222F,  0.0643826351F,
      0.0613207407F, 0.0582582653F,  0.0551952459F,  0.0521317087F,
      0.0490676761F, 0.0460031815F,  0.0429382585F,  0.0398729295F,
      0.0368072242F, 0.0337411761F,  0.030674804F,   0.027608145F,
      0.024541229F,  0.021474082F,   0.0184067301F,  0.0153392069F,
      0.0122715384F, 0.00920375437F, 0.00613588467F, 0.00306795677F,
      0.0F};
  creal32_T yCol[1000];
  creal32_T wwc[999];
  int rt;
  rt = 0;
  wwc[499].re = 1.0F;
  wwc[499].im = 0.0F;
  for (int k{0}; k < 499; k++) {
    float nt_im;
    float nt_re;
    int b_y;
    b_y = ((k + 1) << 1) - 1;
    if (1000 - rt <= b_y) {
      rt = (b_y + rt) - 1000;
    } else {
      rt += b_y;
    }
    nt_im = -3.14159274F * static_cast<float>(rt) / 500.0F;
    if (nt_im == 0.0F) {
      nt_re = 1.0F;
      nt_im = 0.0F;
    } else {
      nt_re = std::cos(nt_im);
      nt_im = std::sin(nt_im);
    }
    wwc[498 - k].re = nt_re;
    wwc[498 - k].im = -nt_im;
  }
  for (int k{498}; k >= 0; k--) {
    wwc[k + 500] = wwc[498 - k];
  }
  coder::internal::FFTImplementationCallback::doHalfLengthBluestein(
      x, yCol, wwc, fv, sintabinv);
  for (int k{0}; k < 1000; k++) {
    y[k] = rt_hypotf_snf(yCol[k].re, yCol[k].im);
  }
}

//
// File trailer for fft_test_fun.cpp
//
// [EOF]
//
